"use strict";(self.webpackChunkwebapp_food_react_fsd=self.webpackChunkwebapp_food_react_fsd||[]).push([[384],{6384:function(e,t,s){s.r(t),s.d(t,{default:function(){return ys}});var i="styles_main__wrapper__pbE0w",a=s(9439),r="styles_imgwrapper__XbYwf",n="styles_image__7zhMg",d=s(184),o=function(e){var t=e.advItem;return(0,d.jsx)("div",{className:r,children:(0,d.jsx)("img",{className:n,src:t,alt:"alt"})})},l=s(8870),c="styles_swiper__slide__+soFu",u=s(9705),_=function(e){var t=e.advItems;return(0,d.jsx)(d.Fragment,{children:1===t.length?(0,d.jsx)(o,{advItem:t[0]}):(0,d.jsx)(u.tq,{modules:[l.tl,l.LW,l.s5],spaceBetween:20,slidesPerView:1.2,children:t.map((function(e,t){return(0,d.jsx)(u.o5,{className:c,children:(0,d.jsx)(o,{advItem:e})},t)}))})})},v="styles_advblock__+fbMg",p=s(2791),x=s(4127),h=s(3240),m=s(1025),g=s(3441),f=function(e){var t=e.children,s=e.time,i=(0,h._)(),r=(0,g.YD)({triggerOnce:!0}),n=(0,a.Z)(r,2),o=n[0],l=n[1],c={hidden:{x:50,opacity:0},visible:{x:0,opacity:1,transition:{duration:s}}};return p.useEffect((function(){l?i.start("visible"):i.start("hidden")}),[i,l]),(0,d.jsx)(m.E.div,{ref:o,initial:"hidden",animate:i,variants:c,viewport:{once:!0},children:t})},j=s(4254),y=function(){return(0,d.jsxs)("div",{style:{display:"grid",gridTemplate:"1fr / 1fr 0.2fr",gap:"20px"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",animation:"wave",style:{borderRadius:"20px",height:"35vw",maxHeight:"200px",width:"100%"}}),(0,d.jsx)(j.Z,{variant:"rectangular",animation:"wave",style:{borderRadius:"20px 0px 0px 20px",height:"35vw",maxHeight:"200px",width:"100%"}})]})},w=s(4057),b=function(){var e=(0,p.useState)([]),t=(0,a.Z)(e,2),s=t[0],i=t[1],r=(0,w.CG)((function(e){return e.basketReducer})).queryParams;return(0,p.useEffect)((function(){r.userId&&(0,x.o4)(r.restaurantId).then((function(e){return i(e.banners)}))}),[r]),(0,d.jsx)("div",{className:v,children:s.length?(0,d.jsx)(f,{time:.3,children:(0,d.jsx)(_,{advItems:s})}):(0,d.jsx)(y,{})})},N="styles_header__Cc2Ag",k="styles_header__imgwrapper__OltDY",C=function(e){var t=e.image;return(0,d.jsx)("div",{className:N,children:(0,d.jsx)("div",{className:k,children:(0,d.jsx)("img",{src:t,alt:"logo",className:k})})})},Z=s(4165),I=s(5861),L="styles_pagebasket__vCeMM",R="styles_pagebasket__wrapper__NFXpg",T="styles_delivery__type__E3dBy",B="styles_arrow__icon__y3c0q",P="styles_basketmodal__OzZJa",G=s(1413),S=function(e){return(0,d.jsxs)("svg",(0,G.Z)((0,G.Z)({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",id:"\\u0421\\u043B\\u043E\\u0439_1",x:0,y:0,style:{enableBackground:"new 0 0 108.26 37.41"},viewBox:"0 0 108.26 37.41"},e),{},{children:[(0,d.jsx)("style",{children:".st0{fill:none}"}),(0,d.jsx)("path",{d:"m5.06 6.36 49.13 24.69",className:"st0"}),(0,d.jsx)("path",{d:"M4.3 7.66c16.37 8.23 32.75 16.46 49.12 24.69 1.72.86 3.24-1.72 1.51-2.59C38.56 21.53 22.18 13.3 5.81 5.07 4.1 4.2 2.58 6.79 4.3 7.66z"}),(0,d.jsx)("path",{d:"M54.19 31.05 103.2 6.53",className:"st0"}),(0,d.jsx)("path",{d:"M54.94 32.35C71.28 24.18 87.62 16 103.95 7.83c1.73-.86.21-3.45-1.51-2.59-16.34 8.17-32.68 16.35-49.01 24.52-1.73.86-.21 3.45 1.51 2.59z"})]}))},M=s(9230),z=function(e){var t,s=e.price,i=(0,M.$G)().t;return(0,d.jsxs)("span",{children:[null===s||void 0===s||null===(t=s.toLocaleString("ru-RU"))||void 0===t?void 0:t.replace(/\B(?=(\d{3})+(?!\d))/g," j")," ",i("price")]})},A="styles_basketinfo__DhUZc",E="styles_basketinfo__wrapper__1f2lm",q="styles_basketinfo__info__g708u",H="styles_basketinfo__details__hB36I",F="styles_basketinfo__deliveryprice__111Di",O="styles_basketinfo__basketprice__GOynO",D="styles_basketinfo__total__qnjGy",U="styles_basketinfo__btn__GyB4W",$=function(){window.Telegram.WebApp.sendData("\u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")},W=function(e){var t=e.onClick,s=e.text;return(0,d.jsx)("div",{className:"main-btn",onClick:t,children:s})},Y=function(e){var t=e.children;return(0,d.jsx)(m.E.div,{whileHover:{opacity:.8,cursor:"pointer"},whileTap:{scale:.97},style:{width:"100%"},children:t})},Q=function(e){var t=e.shippingAmount,s=e.totalAmount,i=e.amount,a=(0,M.$G)().t;return(0,d.jsx)("div",{className:A,children:(0,d.jsxs)("div",{className:E,children:[(0,d.jsxs)("div",{className:q,children:[(0,d.jsxs)("div",{className:H,children:[(0,d.jsxs)("div",{className:F,children:["\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430: ",(0,d.jsx)(z,{price:t})]}),(0,d.jsxs)("div",{className:O,children:[a("basket")," ",(0,d.jsx)(z,{price:i})]})]}),(0,d.jsxs)("div",{className:D,children:[a("total")," ",(0,d.jsx)(z,{price:s})]})]}),(0,d.jsx)(Y,{children:(0,d.jsx)("div",{className:U,children:(0,d.jsx)(W,{onClick:$,text:a("create_order")})})})]})})},V=s(3853),X=function(){return(0,d.jsx)(V.Qyq,{})},K="styles_content__wrapper__LHdxd",J="styles_basket__icon__xw2yX",ee="styles_empty__text__95-mc",te=function(){var e=(0,M.$G)().t;return(0,d.jsxs)("div",{className:K,children:[(0,d.jsx)("div",{className:J,children:(0,d.jsx)(X,{})}),(0,d.jsx)("div",{className:ee,children:e("empty_basket")})]})},se=s(9658),ie="styles_card__X9qu9",ae="styles_card__wrapper__VtGwB",re="styles_card__imgwrapper__tygDi",ne="styles_card__image__KeFXh",de="styles_card__info__mFRdU",oe="styles_card__title__fLOZ9",le="styles_card__price__eNihR",ce="styles_card__details__wD-qM",ue="styles_card__btn__jqiT5",_e=s(7692),ve=function(){return(0,d.jsx)(_e.pwh,{})},pe="styles_btn__0OP7H",xe="styles_btn__wrapper__YOpWq",he="styles_icon__wrapper__rFq2Z",me="styles_count__Q7iYC",ge=function(){return(0,d.jsx)(_e.poH,{})},fe=(0,se.Pi)((function(e){var t=e.increaseProductCount,s=e.decreaseProductCount,i=e.card,a=e.handleShowModal;return(0,d.jsx)("div",{className:pe,children:(0,d.jsxs)("div",{className:xe,children:[(0,d.jsx)("span",{className:he,onClick:function(){return s(i)},children:(0,d.jsx)(ve,{})}),(0,d.jsx)("span",{className:me,children:i.totalCount?i.totalCount:i.count}),(0,d.jsx)("span",{className:he,onClick:function(){a?a():t(i)},children:(0,d.jsx)(ge,{})})]})})})),je=function(e){var t=e.children,s=e.time,i=e.delay,r=(0,h._)(),n=(0,g.YD)({triggerOnce:!0}),o=(0,a.Z)(n,2),l=o[0],c=o[1],u={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{duration:s,delay:i}}};return p.useEffect((function(){c?r.start("visible"):r.start("hidden")}),[r,c]),(0,d.jsx)(m.E.div,{ref:l,initial:"hidden",animate:r,variants:u,viewport:{once:!0},children:t})},ye=(0,se.Pi)((function(e){var t=e.card,s=e.increaseProductCount,i=e.decreaseProductCount;return(0,d.jsx)(je,{time:.3,delay:0,children:(0,d.jsx)("div",{className:ie,children:(0,d.jsxs)("div",{className:ae,children:[(0,d.jsx)("div",{className:re,children:(0,d.jsx)("img",{className:ne,src:null===t||void 0===t?void 0:t.photo,alt:"alt"})}),(0,d.jsxs)("div",{className:de,children:[(0,d.jsx)("div",{className:oe,children:null===t||void 0===t?void 0:t.name}),(null===t||void 0===t?void 0:t.price_name)&&(0,d.jsxs)("div",{className:ce,children:[" ",null===t||void 0===t?void 0:t.price_name]}),(0,d.jsx)("div",{className:le,children:(0,d.jsx)(z,{price:(null===t||void 0===t?void 0:t.price)*(null===t||void 0===t?void 0:t.count)})})]}),(0,d.jsx)("div",{className:ue,children:(0,d.jsx)(Y,{children:(0,d.jsx)(fe,{increaseProductCount:s,decreaseProductCount:i,card:t})})})]})})})})),we="styles_basketlist__wuUrD",be="styles_basketlist__wrapper__3urBP",Ne="styles_basketlist__title__lhS+T",ke="styles_basketlist__items__n8jS7",Ce="styles_related__slider__hS8mb",Ze="styles_title__rn6sC",Ie="styles_swiper__wrapper__4j4sw",Le="styles_swiper__slide__4Rdu0",Re="styles_cardmodal__TNaVN",Te="styles_cardmodal__wrapper__bQawH",Be="styles_cardmodal__imgwrapper__QhF5U",Pe="styles_cardmodal__image__ercBk",Ge="styles_cardmodal__info__BZep+",Se="styles_cardmodal__title__TR9I1",Me="styles_cardmodal__description__0kN5S",ze="styles_cardmodal__price__U-jmF",Ae="styles_cardmodal__types__n6nd3",Ee="styles_cardmodal__addblock__ssI49",qe="styles_cardmodal__addbtn__+D8oY",He="styles_hideicon__+aSNC",Fe=s(4651),Oe=function(){return(0,d.jsx)(Fe.S1K,{})},De=s(8188),Ue=s(1773),$e="styles_radio__btn__IPRVZ",We=function(e){var t=e.price,s=e.handleOptionChange,i=(0,p.useState)(t[0].id),r=(0,a.Z)(i,2),n=r[0],o=r[1];return(0,d.jsx)(De.ZP.Group,{onChange:function(e){o(e.target.value);var i=t.find((function(t){return t.id===e.target.value}));i&&s&&s(i)},value:n,children:(0,d.jsx)(Ue.Z,{direction:"vertical",children:t.map((function(e){return(0,d.jsx)(De.ZP,{className:$e,value:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})},Ye=s(6856),Qe=function(){return(0,d.jsx)(Ye.NcC,{})},Ve=function(e){var t=e.onClick,s=e.text,i=e.card,a=e.fontsize;return(0,d.jsx)("div",{className:"main-btn",onClick:function(){return t(i)},children:(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,d.jsx)("div",{style:{fontSize:a,display:"flex",alignItems:"center",marginRight:"5px"},children:(0,d.jsx)(Qe,{})}),s]})})},Xe=s(6041),Ke=function(e){var t=e.text,s=e.fontsize;return(0,d.jsx)("div",{className:"not-active-btn",children:(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"".concat(s)},children:t})})},Je=function(e){var t=e.BasketCard,s=e.card,i=e.closeModal,a=e.AddToBasket,r=e.handleOptionChange,n=e.selectedMode,o=e.showModal,l=(0,M.$G)().t;return(0,d.jsx)(Xe.Z,{open:o,children:(0,d.jsxs)("div",{className:Re,children:[(0,d.jsxs)("div",{className:Te,children:[(0,d.jsxs)("div",{className:Be,children:[(0,d.jsx)("img",{className:Pe,src:null===s||void 0===s?void 0:s.photo,alt:"alt"}),(0,d.jsx)("div",{onClick:function(){i()},className:He,children:(0,d.jsx)(Oe,{})})]}),(0,d.jsxs)("div",{className:Ge,children:[(0,d.jsx)("div",{className:Se,children:null===s||void 0===s?void 0:s.name}),(0,d.jsx)("div",{className:Me,children:null===s||void 0===s?void 0:s.description}),(0,d.jsx)("div",{className:ze,children:(0,d.jsx)(z,{price:null===n||void 0===n?void 0:n.price})})]}),(0,d.jsx)("div",{className:Ae,children:"extend"===(null===s||void 0===s?void 0:s.mode)&&(0,d.jsx)(We,{price:null===s||void 0===s?void 0:s.price,handleOptionChange:r})})]}),(0,d.jsx)("div",{className:Ee,children:(0,d.jsx)("div",{className:qe,children:"active"===s.product_status?(0,d.jsx)(Ve,{onClick:function(){a(t),i()},text:l("add_to_basket"),card:t,fontsize:"18px"}):(0,d.jsx)(Ke,{text:l("not_active"),fontsize:"14px"})})})]})})},et="styles_card__6DP3n",tt="styles_card__wrapper__BdLmr",st="styles_card__info__XkHHL",it="styles_card__imgwrapper__f0i1r",at="styles_card__image__Lb9QD",rt="styles_card__details__s9VKb",nt="styles_card__title__vh1YF",dt="styles_card__price__KLGeR",ot="styles_card__btn__4OgX5",lt="styles_pagecard__counter__3W8cL",ct=s(8333),ut=function(e){var t,s=e.card,i=e.AddToBasket,r=e.increaseProductCount,n=e.decreaseProductCount,o=(0,M.$G)().t,l=(0,p.useState)(!1),c=(0,a.Z)(l,2),u=c[0],_=c[1],v=function(){_(!0),f(s.price[0])},x=(0,ct.C)((function(e){return e.basketReducer})).basket,h=(0,p.useState)(s.price[0]),m=(0,a.Z)(h,2),g=m[0],f=m[1];(0,p.useEffect)((function(){b((0,G.Z)((0,G.Z)({},w),{},{price:g.price,price_name:"default"===s.mode?null:null===g||void 0===g?void 0:g.name,modification:"default"===s.mode?null:null===g||void 0===g?void 0:g.id}))}),[g]);var j=(0,p.useState)({product_id:null===s||void 0===s?void 0:s.product_id,name:null===s||void 0===s?void 0:s.name,photo:null===s||void 0===s?void 0:s.photo,count:0,price:null===g||void 0===g?void 0:g.price,amount:null===g||void 0===g?void 0:g.price,price_name:"default"===(null===s||void 0===s?void 0:s.mode)?null:null===g||void 0===g?void 0:g.name,modification:"default"===(null===s||void 0===s?void 0:s.mode)?null:null===g||void 0===g?void 0:g.id}),y=(0,a.Z)(j,2),w=y[0],b=y[1],N=(0,p.useState)(s),k=(0,a.Z)(N,2),C=k[0],Z=k[1];return(0,p.useEffect)((function(){if("extend"===s.mode){var e=x.products.filter((function(e){return e.product_id===(null===s||void 0===s?void 0:s.product_id)}));if(e.length>0){var t=e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.count)}),0),i=(0,G.Z)((0,G.Z)({},e[0]),{},{totalCount:t});Z(i)}else Z(s)}else{var a=x.products.find((function(e){return(null===e||void 0===e?void 0:e.product_id)===(null===s||void 0===s?void 0:s.product_id)}));Z(a||s)}}),[x.amount]),(0,d.jsxs)("div",{className:et,children:[(0,d.jsxs)("div",{className:tt,children:[(0,d.jsxs)("div",{className:st,onClick:v,children:[(0,d.jsx)("div",{className:it,children:(0,d.jsx)("img",{className:at,src:null===C||void 0===C?void 0:C.photo,alt:"alt"})}),(0,d.jsxs)("div",{className:rt,children:[(0,d.jsx)("div",{className:nt,children:null===C||void 0===C?void 0:C.name}),(0,d.jsx)("div",{className:dt,children:(0,d.jsx)(z,{price:null===s||void 0===s||null===(t=s.price[0])||void 0===t?void 0:t.price})})]})]}),"active"===s.product_status?(0,d.jsx)(Y,{children:(0,d.jsx)("div",{className:ot,children:"count"in C?(0,d.jsx)("div",{className:lt,children:(0,d.jsx)(fe,{increaseProductCount:r,decreaseProductCount:n,card:C,handleShowModal:"extend"===(null===s||void 0===s?void 0:s.mode)?v:void 0})}):(0,d.jsx)(Ve,{onClick:function(){"default"===(null===s||void 0===s?void 0:s.mode)?i(w):v()},text:o("add_to_basket"),card:w,fontsize:"14px"})})}):(0,d.jsx)("div",{className:ot,children:(0,d.jsx)(Ke,{text:o("not_active"),fontsize:"8px"})})]}),(0,d.jsx)(Je,{BasketCard:w,card:s,AddToBasket:i,closeModal:function(){_(!1)},handleOptionChange:function(e){f(e)},selectedMode:g,showModal:u})]})},_t=s(4805),vt=function(e){var t=e.relatedCards,s=e.AddToBasket,i=e.increaseProductCount,a=e.decreaseProductCount,r=(0,_t.useMediaQuery)({maxWidth:389}),n=(0,M.$G)().t;return(0,d.jsx)(d.Fragment,{children:t.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:Ze,children:n("related")}),(0,d.jsx)(f,{time:1,children:(0,d.jsx)(u.tq,{modules:[l.tl,l.LW,l.s5],spaceBetween:15,slidesPerView:r?2.5:3.3,className:Ie,children:t.map((function(e,t){return(0,d.jsx)(u.o5,{className:Le,children:(0,d.jsx)(ut,{AddToBasket:s,increaseProductCount:i,decreaseProductCount:a,card:e})},t)}))})})]})})},pt=function(e){var t=e.cards,s=e.relatedCards,i=e.AddToBasket,a=e.decreaseProductCount,r=e.increaseProductCount,n=(0,M.$G)().t;return(0,d.jsxs)("div",{className:we,children:[(0,d.jsx)("div",{className:Ne,children:n("in_your_basket")}),(0,d.jsxs)("div",{className:be,children:[(0,d.jsx)("div",{className:ke,children:t.map((function(e,t){return(0,d.jsx)(ye,{card:e,increaseProductCount:r,decreaseProductCount:a},t)}))}),(0,d.jsx)("div",{className:Ce,children:(0,d.jsx)(vt,{relatedCards:s,decreaseProductCount:a,increaseProductCount:r,AddToBasket:i})})]})]})},xt="styles_btn__wrapper__GIYIF",ht="styles_btn__icon__6gxsj",mt="styles_btn__text__TUSaf",gt="styles_btn__price__NdqjF",ft=function(e){var t=e.price,s=e.onClick,i=(0,M.$G)().t;return(0,d.jsxs)("div",{className:"".concat(xt," main-btn"),onClick:s,children:[(0,d.jsx)("div",{className:ht,children:(0,d.jsx)(X,{})}),(0,d.jsx)("div",{className:mt,children:i("to_basket")}),(0,d.jsx)("div",{className:gt,children:(0,d.jsx)(z,{price:t})})]})},jt=function(){var e=(0,M.$G)().t,t=(0,p.useState)(!1),s=(0,a.Z)(t,2),i=s[0],r=s[1],n=function(){r(!i)},o=(0,w.TL)(),l=(0,w.CG)((function(e){return e.basketReducer})),c=l.basket,u=l.related,_=l.queryParams;(0,p.useEffect)((function(){var e,t,s,i;_.userId&&(o((0,w.br)({userId:_.userId,latitude:null===(e=_.userLocation)||void 0===e?void 0:e.latitude,longitude:null===(t=_.userLocation)||void 0===t?void 0:t.longitude,restaurantLocationId:_.restaurantLocationId,orderType:_.orderType,language:_.userLanguage})),o((0,w.Xz)({restaurantId:_.restaurantId,latitude:null===(s=_.userLocation)||void 0===s?void 0:s.latitude,longitude:null===(i=_.userLocation)||void 0===i?void 0:i.longitude,language:_.userLanguage})))}),[_]),(0,p.useEffect)((function(){0===c.amount&&r(!1)}),[c.amount]);return(0,d.jsxs)("div",{className:L,children:[(0,d.jsx)(Xe.Z,{open:i,children:(0,d.jsxs)("div",{className:P,children:[(0,d.jsx)("div",{onClick:n,className:B,children:(0,d.jsx)(Y,{children:(0,d.jsx)(S,{})})}),(0,d.jsx)(pt,{cards:c.products,increaseProductCount:function(e){var t=function(){var t=(0,I.Z)((0,Z.Z)().mark((function t(){var s,i;return(0,Z.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o((0,w.mk)({userId:_.userId,productId:e.product_id,count:1,modification:e.modification}));case 3:return t.next=5,o((0,w.br)({userId:_.userId,latitude:null===(s=_.userLocation)||void 0===s?void 0:s.latitude,longitude:null===(i=_.userLocation)||void 0===i?void 0:i.longitude,restaurantLocationId:_.restaurantLocationId,orderType:_.orderType,language:_.userLanguage}));case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()},decreaseProductCount:function(e){var t=function(){var t=(0,I.Z)((0,Z.Z)().mark((function t(){var s,i;return(0,Z.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o((0,w.ff)({userId:_.userId,productId:e.product_id,modification:e.modification}));case 3:return t.next=5,o((0,w.br)({userId:_.userId,latitude:null===(s=_.userLocation)||void 0===s?void 0:s.latitude,longitude:null===(i=_.userLocation)||void 0===i?void 0:i.longitude,restaurantLocationId:_.restaurantLocationId,orderType:_.orderType,language:_.userLanguage}));case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()},relatedCards:u.products,AddToBasket:function(e){var t=function(){var t=(0,I.Z)((0,Z.Z)().mark((function t(){var s,i;return(0,Z.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o((0,w.mk)({userId:_.userId,productId:e.product_id,count:1,modification:e.modification}));case 3:return t.next=5,o((0,w.br)({userId:_.userId,latitude:null===(s=_.userLocation)||void 0===s?void 0:s.latitude,longitude:null===(i=_.userLocation)||void 0===i?void 0:i.longitude,restaurantLocationId:_.restaurantLocationId,orderType:_.orderType,language:_.userLanguage}));case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}}),(0,d.jsx)(Q,{shippingAmount:c.shipping_amount,amount:c.amount,totalAmount:c.total_amount})]})}),(0,d.jsxs)("div",{className:R,children:[(0,d.jsxs)("div",{className:T,children:["shipping"===c.order_type?e("order_type.shipping"):e("order_type.pickup"),c.shipping_amount," ",e("price")]}),c.products.length?(0,d.jsx)(Y,{children:(0,d.jsx)(ft,{price:c.total_amount,onClick:n})}):(0,d.jsx)(te,{})]})]})},yt="styles_categories__WbtBP",wt="styles_categories__wrapper__LBrNa",bt="styles_category__hcyKd",Nt=function(e){var t=e.category;return(0,d.jsx)("div",{className:bt,children:null===t||void 0===t?void 0:t.category})},kt=s(5667),Ct=function(e){var t=e.categories;return(0,d.jsx)("div",{className:yt,children:(0,d.jsx)("div",{className:wt,children:t.map((function(e){return(0,d.jsx)(kt.rU,{to:"".concat(null===e||void 0===e?void 0:e.id),spy:!0,smooth:!0,duration:500,offset:-85,activeClass:"active__category",children:(0,d.jsx)(Nt,{category:e})},e.id)}))})})},Zt="styles_categoriesblock__5uxEw",It="styles_blockintop__F8CeM",Lt=function(){return(0,d.jsxs)("div",{style:{display:"grid",gridTemplate:"1fr / 1fr 1fr 0.3fr",gap:"20px",margin:"0px 20px"},children:[(0,d.jsx)(j.Z,{animation:"wave",width:"100%",height:"50px",style:{padding:"20px",borderRadius:"10px",margin:"0 auto"}}),(0,d.jsx)(j.Z,{animation:"wave",width:"100%",height:"50px",style:{padding:"20px",borderRadius:"10px"}}),(0,d.jsx)(j.Z,{animation:"wave",width:"100%",height:"50px",style:{padding:"20px",borderRadius:"10px 0px 0px 10px"}})]})},Rt=function(){var e=(0,p.useState)(!1),t=(0,a.Z)(e,2),s=t[0],i=t[1],r=function(){var e,t=document.querySelector(".".concat(Zt));if(t){var s=!!(e=t)&&e.getBoundingClientRect().top<=0;i(s)}};(0,p.useEffect)((function(){return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}}),[]);var n=(0,w.CG)((function(e){return e.catalogReducer})).categories;return(0,d.jsx)("div",{className:s?"".concat(Zt," ").concat(It):Zt,onClick:function(){return console.log(n)},children:n.length<1?(0,d.jsx)(Lt,{}):(0,d.jsx)(Ct,{categories:n})})},Tt="styles_categoryitems__y8hpi",Bt="styles_categoryitems__wrapper__xu8TM",Pt="styles_category__title__Awsi7",Gt="styles_categoryitems__cards__a3K98",St="styles_card__kkDq+",Mt="styles_card__wrapper__jJ85a",zt="styles_card__info__fMgKN",At="styles_card__imgwrapper__+r72N",Et="styles_card__image__62RRd",qt="styles_card__details__aesuj",Ht="styles_card__title__CWRTT",Ft="styles_card__price__9Lps6",Ot="styles_card__btn__Bmx5R",Dt="styles_pagecard__counter__sGzyN",Ut="styles_modal__overlay__gwXji",$t="styles_cardmodal__emGf3",Wt="styles_cardmodal__wrapper__++gih",Yt="styles_cardmodal__imgwrapper__h40fF",Qt="styles_cardmodal__image__JJReN",Vt="styles_cardmodal__info__V3DTw",Xt="styles_cardmodal__title__IojT-",Kt="styles_cardmodal__description__YI0Uq",Jt="styles_cardmodal__price__ziQp+",es="styles_cardmodal__types__Q-SU1",ts="styles_cardmodal__addblock__T0Twb",ss="styles_cardmodal__addbtn__ak9y2",is="styles_hideicon__RIj6C",as=function(e){var t=e.BasketCard,s=e.card,i=e.closeModal,a=e.AddToBasket,r=e.handleOptionChange,n=e.selectedMode,o=e.showModal,l=(0,M.$G)().t;return(0,d.jsx)(Xe.Z,{open:o,children:(0,d.jsxs)("div",{className:$t,children:[(0,d.jsxs)("div",{className:Wt,children:[(0,d.jsxs)("div",{className:Yt,children:[(0,d.jsx)("img",{className:Qt,src:null===s||void 0===s?void 0:s.photo,alt:"alt"}),(0,d.jsx)("div",{onClick:function(){i()},className:is,children:(0,d.jsx)(Oe,{})})]}),(0,d.jsxs)("div",{className:Vt,children:[(0,d.jsx)("div",{className:Xt,children:null===s||void 0===s?void 0:s.name}),(0,d.jsx)("div",{className:Kt,children:null===s||void 0===s?void 0:s.description}),(0,d.jsx)("div",{className:Jt,children:(0,d.jsx)(z,{price:null===n||void 0===n?void 0:n.price})})]}),(0,d.jsx)("div",{className:es,children:"extend"===(null===s||void 0===s?void 0:s.mode)&&(0,d.jsx)(We,{price:null===s||void 0===s?void 0:s.price,handleOptionChange:r})})]}),(0,d.jsx)("div",{className:ts,children:(0,d.jsx)("div",{className:ss,children:"active"===s.product_status?(0,d.jsx)(Ve,{onClick:function(){a(t),i()},text:l("add_to_basket"),card:t,fontsize:"18px"}):(0,d.jsx)(Ke,{text:l("not_active"),fontsize:"14px"})})})]})})},rs=function(e){var t,s=e.card,i=e.AddToBasket,r=e.increaseProductCount,n=e.decreaseProductCount,o=(0,M.$G)().t,l=(0,p.useState)(!1),c=(0,a.Z)(l,2),u=c[0],_=c[1],v=function(){_(!0),f(s.price[0])},x=(0,ct.C)((function(e){return e.basketReducer})).basket,h=(0,p.useState)(s.price[0]),m=(0,a.Z)(h,2),g=m[0],f=m[1];(0,p.useEffect)((function(){b((0,G.Z)((0,G.Z)({},w),{},{price:g.price,price_name:"default"===(null===s||void 0===s?void 0:s.mode)?null:null===g||void 0===g?void 0:g.name,modification:"default"===(null===s||void 0===s?void 0:s.mode)?null:null===g||void 0===g?void 0:g.id}))}),[g]);var j=(0,p.useState)({product_id:null===s||void 0===s?void 0:s.product_id,name:null===s||void 0===s?void 0:s.name,photo:null===s||void 0===s?void 0:s.photo,count:0,price:null===g||void 0===g?void 0:g.price,amount:null===g||void 0===g?void 0:g.price,price_name:"default"===(null===s||void 0===s?void 0:s.mode)?null:null===g||void 0===g?void 0:g.name,modification:"default"===(null===s||void 0===s?void 0:s.mode)?null:null===g||void 0===g?void 0:g.id}),y=(0,a.Z)(j,2),w=y[0],b=y[1],N=(0,p.useState)(s),k=(0,a.Z)(N,2),C=k[0],Z=k[1];return(0,p.useEffect)((function(){if("extend"===s.mode){var e=x.products.filter((function(e){return(null===e||void 0===e?void 0:e.product_id)===(null===s||void 0===s?void 0:s.product_id)}));if(e.length>0){var t=e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.count)}),0),i=(0,G.Z)((0,G.Z)({},e[0]),{},{totalCount:t});Z(i)}else Z(s)}else{var a=x.products.find((function(e){return(null===e||void 0===e?void 0:e.product_id)===(null===s||void 0===s?void 0:s.product_id)}));Z(a||s)}}),[x]),(0,d.jsxs)(je,{time:.5,delay:0,children:[(0,d.jsx)("div",{className:u?Ut:""}),(0,d.jsxs)("div",{className:St,children:[(0,d.jsxs)("div",{className:Mt,children:[(0,d.jsxs)("div",{className:zt,onClick:v,children:[(0,d.jsx)("div",{className:At,children:(0,d.jsx)("img",{className:Et,src:null===C||void 0===C?void 0:C.photo,alt:"alt"})}),(0,d.jsxs)("div",{className:qt,children:[(0,d.jsx)("div",{className:Ht,children:null===C||void 0===C?void 0:C.name}),(0,d.jsx)("div",{className:Ft,children:(0,d.jsx)(z,{price:null===s||void 0===s||null===(t=s.price[0])||void 0===t?void 0:t.price})})]})]}),"active"===s.product_status?(0,d.jsx)(Y,{children:(0,d.jsx)("div",{className:Ot,children:"count"in C?(0,d.jsx)("div",{className:Dt,children:(0,d.jsx)(fe,{increaseProductCount:r,decreaseProductCount:n,card:C,handleShowModal:"extend"===(null===s||void 0===s?void 0:s.mode)?v:void 0})}):(0,d.jsx)(Ve,{onClick:function(){"default"===s.mode?i(w):v()},text:o("add_to_basket"),card:w,fontsize:"18px"})})}):(0,d.jsx)("div",{className:Ot,children:(0,d.jsx)(Ke,{text:o("not_active"),fontsize:"12px"})})]}),(0,d.jsx)(as,{BasketCard:w,card:s,AddToBasket:i,closeModal:function(){_(!1)},handleOptionChange:function(e){f(e)},selectedMode:g,showModal:u})]})]})},ns=function(e){var t=e.category,s=e.cards,i=e.addToBasket,a=e.increaseProductCount,r=e.decreaseProductCount;return(0,d.jsx)(kt.W_,{name:"".concat(null===t||void 0===t?void 0:t.id),children:(0,d.jsx)("div",{className:Tt,children:(0,d.jsxs)("div",{className:Bt,children:[(0,d.jsx)("div",{className:Pt,children:t.category}),(0,d.jsx)("div",{className:Gt,children:s.map((function(e,t){return(0,d.jsx)(rs,{card:e,AddToBasket:i,increaseProductCount:a,decreaseProductCount:r},t)}))})]})})})},ds="styles_catalog__u70ta",os="styles_catalog__wrapper__tANnH",ls=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(j.Z,{style:{width:"30%",borderRadius:"10px",height:"50px",marginBottom:"20px"}}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:"20px",rowGap:"10px",marginBottom:"20px"},children:[(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]}),(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:"20px",rowGap:"10px",marginBottom:"20px"},children:[(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]}),(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:"20px",rowGap:"10px",marginBottom:"20px"},children:[(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]}),(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:"20px",rowGap:"10px",marginBottom:"20px"},children:[(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]}),(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)(j.Z,{variant:"rectangular",style:{width:"100%",height:"45vw",maxHeight:"200px",borderRadius:"25px",marginBottom:"10px"}}),(0,d.jsx)(j.Z,{width:"100%",style:{borderRadius:"10px",height:"30px"}}),(0,d.jsx)(j.Z,{width:"70%",style:{borderRadius:"10px",height:"30px"}})]})]})]})},cs=s(5587),us=s(8825),_s=s(3229),vs=s(9522);us.ZP.use(_s.Z).use(vs.Z).use(M.Db).init({fallbackLng:"uz",debug:!0,detection:{order:["queryString","cookie"],cache:["cookie"]},interpolation:{escapeValue:!1}});var ps=us.ZP,xs=s(1678),hs=function(){var e=(0,w.TL)(),t=(0,w.CG)((function(e){return e.catalogReducer})),s=t.filteredCatalog,i=t.isLoading,a=t.error,r=(0,w.CG)((function(e){return e.basketReducer})).queryParams;(0,p.useEffect)((function(){if(r.userId){var t,s,i="uz"===r.userLanguage?cs.S.Uzbek:cs.S.Russian;a=i,ps.changeLanguage(a),(0,xs.m0)(a),e((0,w.pV)({restaurantId:r.restaurantId,latitude:null===(t=r.userLocation)||void 0===t?void 0:t.latitude,longitude:null===(s=r.userLocation)||void 0===s?void 0:s.longitude,language:r.userLanguage}))}var a}),[r]);var n=function(t){var s=function(){var s=(0,I.Z)((0,Z.Z)().mark((function s(){var i,a;return(0,Z.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e((0,w.mk)({userId:r.userId,productId:t.product_id,count:1,modification:t.modification}));case 3:return s.next=5,e((0,w.br)({userId:r.userId,latitude:null===(i=r.userLocation)||void 0===i?void 0:i.latitude,longitude:null===(a=r.userLocation)||void 0===a?void 0:a.longitude,restaurantLocationId:r.restaurantLocationId,orderType:r.orderType,language:r.userLanguage}));case 5:s.next=9;break;case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}();s()},o=function(t){var s=function(){var s=(0,I.Z)((0,Z.Z)().mark((function s(){var i,a;return(0,Z.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e((0,w.mk)({userId:r.userId,productId:t.product_id,count:1,modification:t.modification}));case 3:return s.next=5,e((0,w.br)({userId:r.userId,latitude:null===(i=r.userLocation)||void 0===i?void 0:i.latitude,longitude:null===(a=r.userLocation)||void 0===a?void 0:a.longitude,restaurantLocationId:r.restaurantLocationId,orderType:r.orderType,language:r.userLanguage}));case 5:s.next=9;break;case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}();s()},l=function(t){var s=function(){var s=(0,I.Z)((0,Z.Z)().mark((function s(){var i,a;return(0,Z.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e((0,w.ff)({userId:r.userId,productId:t.product_id,modification:t.modification}));case 3:return s.next=5,e((0,w.br)({userId:r.userId,latitude:null===(i=r.userLocation)||void 0===i?void 0:i.latitude,longitude:null===(a=r.userLocation)||void 0===a?void 0:a.longitude,restaurantLocationId:r.restaurantLocationId,orderType:r.orderType,language:r.userLanguage}));case 5:s.next=9;break;case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}();s()};return(0,d.jsx)(d.Fragment,{children:i?(0,d.jsx)(ls,{}):a?(0,d.jsx)("p",{style:{textAlign:"center"},children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."}):(0,d.jsx)("div",{className:ds,children:(0,d.jsx)("div",{className:os,children:s&&s.map((function(e){return(0,d.jsx)(ns,{category:{id:null===e||void 0===e?void 0:e.id,category:null===e||void 0===e?void 0:e.category},cards:null===e||void 0===e?void 0:e.products,addToBasket:n,increaseProductCount:o,decreaseProductCount:l},null===e||void 0===e?void 0:e.id)}))})})})},ms=s(7444),gs=function(e){var t=e.value,s=e.handleChange,i=(0,M.$G)().t,r=(0,p.useState)(!1),n=(0,a.Z)(r,2),o=n[0],l=n[1];return(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0px 0px 0px"},children:(0,d.jsx)(ms.Z,{value:t,placeholder:i("search"),bordered:!1,onChange:function(e){return s(e.target.value)},style:{width:"100%",height:"40px",borderRadius:"15px",boxShadow:o?"0px 0px 15px rgba(0,0,0,0.35)":"0px 0px 5px rgba(0,0,0,0.2)",background:"#fff"},onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}})})},fs=function(){var e=(0,p.useState)(""),t=(0,a.Z)(e,2),s=t[0],i=t[1],r=(0,w.TL)();return(0,p.useEffect)((function(){r(w.Gl.actions.searchFilter(s))}),[s]),(0,d.jsx)(gs,{value:s,handleChange:i})},js=function(){var e=window.Telegram.WebApp;e.enableClosingConfirmation(),e.expand(),e.ready();var t=(0,w.TL)();return(0,p.useEffect)((function(){var e=function(){var e=new URLSearchParams(window.location.search),t={};return e.has("user_id")&&(t.userId=e.get("user_id")),e.has("restaurant_id")&&(t.restaurantId=e.get("restaurant_id")),e.has("latitude")&&e.has("longitude")&&(t.userLocation={latitude:e.get("latitude"),longitude:e.get("longitude")}),e.has("user_language")&&(t.userLanguage=e.get("user_language")),e.has("restaurant_location_id")&&(t.restaurantLocationId=e.get("restaurant_location_id")),e.has("order_type")&&(t.orderType=e.get("order_type")),t}();t(w.Cy.actions.setQueryParams(e))}),[]),(0,d.jsx)("div",{})},ys=function(){return(0,d.jsxs)("div",{className:i,children:[(0,d.jsx)(C,{image:"https://cdn1.iconfinder.com/data/icons/social-messaging-ui-color-shapes/128/eat-circle-orange-1024.png"}),(0,d.jsx)(js,{}),(0,d.jsx)(b,{}),(0,d.jsx)(fs,{}),(0,d.jsx)(Rt,{}),(0,d.jsx)(hs,{}),(0,d.jsx)(jt,{})]})}}}]);
//# sourceMappingURL=384.2618f226.chunk.js.map